using UnityEngine;

public class MalwareCutManager : MonoBehaviour
{
    [SerializeField] GameObject currentMalwareBody;
    [SerializeField] GameObject slicedMalwareBody;

    bool isMalwareBlueColored;

    void SliceMalware()
    {
        currentMalwareBody.SetActive(false);
        slicedMalwareBody.SetActive(true);
    }
    void DecreasePoint()
    {
        //TODO: Decrease Point after you make point mechanic
    }

    void OnEnable()
    {
        if (gameObject.GetComponentInParent<BlueMalware>())
            this.isMalwareBlueColored = true;
    }

    void OnTriggerEnter(Collider other)
    {
        if (this.isMalwareBlueColored)
        {
            if (other.gameObject.GetComponent<LightSaberBlue>())
                SliceMalware();
            
            else if (other.gameObject.GetComponent<LightSaberGreen>())
                DecreasePoint();
        }
        
        else if (!this.isMalwareBlueColored)
        {
            if (other.gameObject.GetComponent<LightSaberGreen>())
                SliceMalware();
            
            else if (other.gameObject.GetComponent<LightSaberBlue>())
                DecreasePoint();
        }
    }
}
